{{define "content"}}
<table class="table table-bordered">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">id</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>
<script>
    function findGetParameter(parameterName) {
        var result = null,
            tmp = [];
        location.search
            .substr(1)
            .split("&")
            .forEach(function(item) {
                tmp = item.split("=");
                if (tmp[0] === parameterName)
                    result = decodeURIComponent(tmp[1]);
            });
        return result;
    }

    let info = {};

    const onSuccess = function(json) {
        info = json.result;

        console.log(info);
    };

    const onError = function(resp) {
        const json = resp.responseJSON;
        tError(json.error);
    };

    $.ajax({
        type: "GET",
        url: "/api/info/",
        data: {
            fileId: findGetParameter("fileId")
        },
        success: onSuccess,
        error: onError
    });
</script>
{{ end }}
